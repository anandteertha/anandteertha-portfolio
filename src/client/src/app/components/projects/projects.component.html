<section id="projects" class="projects" aria-label="Projects Section" itemscope itemtype="https://schema.org/ItemList">
  <div class="container">
    <div class="section-header" appScrollAnimation>
      <span class="section-badge">Projects</span>
      <h2 class="section-title">Featured Work</h2>
      <p class="section-description">
        Building innovative solutions across web development and systems programming
      </p>
    </div>

    <div class="projects-grid">
      <div class="project-card" 
           *ngFor="let project of projects; let i = index"
           [class.highlight]="project.isHighlight"
           [style.animation-delay.ms]="i * 100"
           appScrollAnimation
           (click)="openDetail(project)">
        <div class="project-header">
          <div class="project-logo" *ngIf="project.logo">
            <img [src]="project.logo" [alt]="'Logo for ' + project.title + ' - ' + project.subtitle">
          </div>
          <div class="project-icon" *ngIf="project.isHighlight && !project.logo">ü¶Ä</div>
          <div class="project-info">
            <h3 class="project-title">{{project.title}}</h3>
            <p class="project-subtitle">{{project.subtitle}}</p>
          </div>
        </div>
        
        <div class="project-description">
          <div class="description-item">
            <span class="desc-icon">‚ñ∏</span>
            <p>{{project.description[0]}}</p>
          </div>
        </div>
        
        <div class="project-tech">
          <span class="tech-tag" *ngFor="let tech of project.technologies.slice(0, 4)">{{tech}}</span>
          <span class="tech-more" *ngIf="project.technologies.length > 4">+{{project.technologies.length - 4}}</span>
        </div>
        
        <div class="project-footer">
          <span class="project-period">{{project.period}}</span>
          <span class="project-action">View Details ‚Üí</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Detail Modal -->
  <div class="modal-overlay" *ngIf="showModal" (click)="closeModal()">
    <div class="modal-content" (click)="$event.stopPropagation()">
      <button class="modal-close" (click)="closeModal()">√ó</button>
      
      <div class="modal-header" *ngIf="selectedProject">
        <div class="modal-logo" *ngIf="selectedProject.logo">
          <img [src]="selectedProject.logo" [alt]="'Logo for ' + selectedProject.title + ' - ' + selectedProject.subtitle">
        </div>
        <div class="project-icon-large" *ngIf="selectedProject.isHighlight && !selectedProject.logo">ü¶Ä</div>
        <div>
          <h2 class="modal-title">{{selectedProject.title}}</h2>
          <p class="modal-subtitle">{{selectedProject.subtitle}}</p>
          <span class="modal-period">{{selectedProject.period}}</span>
        </div>
      </div>
      
      <div class="modal-body" *ngIf="selectedProject">
        <div class="modal-section">
          <h3>About</h3>
          <div class="description-list">
            <div class="description-item-modal" *ngFor="let desc of selectedProject.description">
              <span class="desc-icon-modal">‚ñ∏</span>
              <p>{{desc}}</p>
            </div>
          </div>
        </div>
        
        <div class="modal-section" *ngIf="selectedProject.features && selectedProject.features.length > 0">
          <h3>Key Features</h3>
          <div class="feature-list">
            <div class="feature-item" *ngFor="let feature of selectedProject.features">
              <span class="feature-icon">‚úì</span>
              <p>{{feature}}</p>
            </div>
          </div>
        </div>
        
        <div class="modal-section">
          <h3>Technologies</h3>
          <div class="modal-tech">
            <span class="tech-tag" *ngFor="let tech of selectedProject.technologies">{{tech}}</span>
          </div>
        </div>
        
        <div class="modal-section" *ngIf="selectedProject.github || selectedProject.live">
          <h3>Links</h3>
          <div class="project-links">
            <a *ngIf="selectedProject.github" [href]="selectedProject.github" target="_blank" rel="noopener noreferrer" class="project-link">
              <span class="link-icon">üìÇ</span>
              <span>GitHub</span>
              <span class="link-arrow">‚Üó</span>
            </a>
            <a *ngIf="selectedProject.live" [href]="selectedProject.live" target="_blank" rel="noopener noreferrer" class="project-link">
              <span class="link-icon">üåê</span>
              <span>Live Demo</span>
              <span class="link-arrow">‚Üó</span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

